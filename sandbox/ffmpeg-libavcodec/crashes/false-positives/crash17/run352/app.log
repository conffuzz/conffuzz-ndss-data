ffprobe version 5.0 Copyright (c) 2007-2022 the FFmpeg developers
  built with gcc 11 (Debian 11.2.0-20)
  configuration: --extra-cflags='-fPIC -fsanitize=address' --extra-ldflags='-fsanitize=address' --enable-shared --disable-optimizations --enable-debug=3 --enable-pic --disable-stripping --disable-asm --disable-static --enable-memory-poisoning --enable-gpl --enable-gnutls --enable-libass --enable-libfreetype --enable-libmp3lame --enable-libvorbis --enable-nonfree
  WARNING: library configuration mismatch
  avcodec     configuration: 
  libavutil      57. 17.100 / 57. 17.100
  libavcodec     59. 18.100 / 59. 18.100
  libavformat    59. 16.100 / 59. 16.100
  libavdevice    59.  4.100 / 59.  4.100
  libavfilter     8. 24.100 /  8. 24.100
  libswscale      6.  4.100 /  6.  4.100
  libswresample   4.  3.100 /  4.  3.100
  libpostproc    56.  3.100 / 56.  3.100
[NULL @ 0x619000000080] Codec type or id mismatches
Tried and failed to write to 0x00005555555540d9 (3 bytes)
Tried and failed to write to 0x000055555555407e (8 bytes)
Tried and failed to write to 0x0000555555554037 (4 bytes)
[avi @ 0x617000000080] Failed to open codec in avformat_find_stream_info
=================================================================
==214747==ERROR: AddressSanitizer: heap-use-after-free on address 0x60e0000234b0 at pc 0x7fffdda3c13e bp 0x7fffffffe000 sp 0x7fffffffdff8
READ of size 8 at 0x60e0000234b0 thread T0
    #0 0x7fffdda3c13d in av_freep libavutil/mem.c:255
    #1 0x7fffde781438 in codec_parameters_reset libavcodec/codec_par.c:33
    #2 0x7fffde781858 in avcodec_parameters_copy libavcodec/codec_par.c:74
    #3 0x7fffe0eb8ecd in extract_extradata_init libavformat/demux.c:2306
    #4 0x7fffe0eb908e in extract_extradata libavformat/demux.c:2333
    #5 0x7fffe0ebd35f in avformat_find_stream_info libavformat/demux.c:2705
    #6 0x55555559be78 in open_input_file fftools/ffprobe.c:3162
    #7 0x55555559cc7b in probe_file fftools/ffprobe.c:3266
    #8 0x5555555a0cdc in main fftools/ffprobe.c:3993
    #9 0x7fffdd64c7fc in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x237fc)
    #10 0x55555556ffc9 in _start (/root/ffmpeg-5.0/ffprobe+0x1bfc9)

0x60e0000234b0 is located 16 bytes inside of 159-byte region [0x60e0000234a0,0x60e00002353f)
freed by thread T0 here:
    #0 0x7fffe2669b48 in __interceptor_realloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cpp:164
    #1 0x7fffdda3b684 in av_realloc libavutil/mem.c:161
    #2 0x7fffdda3de36 in av_fast_realloc libavutil/mem.c:520
    #3 0x7fffe12936a8 in ff_add_index_entry libavformat/seek.c:80
    #4 0x7fffe1293b71 in av_add_index_entry libavformat/seek.c:122
    #5 0x7fffe0e35a80 in avi_read_idx1 libavformat/avidec.c:1656
    #6 0x7fffe0e37415 in avi_load_index libavformat/avidec.c:1800
    #7 0x7fffe0e2fb8f in avi_read_header libavformat/avidec.c:1045
    #8 0x7fffe0ea238b in avformat_open_input libavformat/demux.c:297
    #9 0x55555559bb73 in open_input_file fftools/ffprobe.c:3143
    #10 0x55555559cc7b in probe_file fftools/ffprobe.c:3266
    #11 0x5555555a0cdc in main fftools/ffprobe.c:3993
    #12 0x7fffdd64c7fc in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x237fc)

previously allocated by thread T0 here:
    #0 0x7fffe2669b48 in __interceptor_realloc ../../../../src/libsanitizer/asan/asan_malloc_linux.cpp:164
    #1 0x7fffdda3b684 in av_realloc libavutil/mem.c:161
    #2 0x7fffdda3de36 in av_fast_realloc libavutil/mem.c:520
    #3 0x7fffe12936a8 in ff_add_index_entry libavformat/seek.c:80
    #4 0x7fffe1293b71 in av_add_index_entry libavformat/seek.c:122
    #5 0x7fffe0e35a80 in avi_read_idx1 libavformat/avidec.c:1656
    #6 0x7fffe0e37415 in avi_load_index libavformat/avidec.c:1800
    #7 0x7fffe0e2fb8f in avi_read_header libavformat/avidec.c:1045
    #8 0x7fffe0ea238b in avformat_open_input libavformat/demux.c:297
    #9 0x55555559bb73 in open_input_file fftools/ffprobe.c:3143
    #10 0x55555559cc7b in probe_file fftools/ffprobe.c:3266
    #11 0x5555555a0cdc in main fftools/ffprobe.c:3993
    #12 0x7fffdd64c7fc in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x237fc)

SUMMARY: AddressSanitizer: heap-use-after-free libavutil/mem.c:255 in av_freep
Shadow bytes around the buggy address:
  0x0c1c7fffc640: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0c1c7fffc650: 00 00 00 fa fa fa fa fa fa fa fa fa 00 00 00 00
  0x0c1c7fffc660: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa
  0x0c1c7fffc670: fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00
  0x0c1c7fffc680: 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa
=>0x0c1c7fffc690: fa fa fa fa fd fd[fd]fd fd fd fd fd fd fd fd fd
  0x0c1c7fffc6a0: fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa
  0x0c1c7fffc6b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0c1c7fffc6c0: 00 00 fa fa fa fa fa fa fa fa fa fa 00 00 00 00
  0x0c1c7fffc6d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa
  0x0c1c7fffc6e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==214747==ABORTING
