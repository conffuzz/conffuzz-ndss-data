3319:C 08 Nov 2022 10:39:36.992 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
3319:C 08 Nov 2022 10:39:37.019 # Redis version=6.2.6, bits=64, commit=00000000, modified=0, pid=3319, just started
3319:C 08 Nov 2022 10:39:37.022 # Configuration loaded
3319:M 08 Nov 2022 10:39:37.110 * monotonic clock: POSIX clock_gettime
3319:M 08 Nov 2022 10:39:37.485 * Running mode=standalone, port=6379.
3319:M 08 Nov 2022 10:39:37.487 # Server initialized
3319:M 08 Nov 2022 10:39:37.488 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.
3319:M 08 Nov 2022 10:39:37.617 * <bf> RedisBloom version 2.2.18 (Git=8b6ee3b)
3319:M 08 Nov 2022 10:39:37.667 * Module 'bf' loaded from /root/RedisBloom/redisbloom.so
3319:M 08 Nov 2022 10:39:37.804 * Ready to accept connections


=== REDIS BUG REPORT START: Cut & paste starting from here ===
3319:M 08 Nov 2022 10:39:38.003 # === ASSERTION FAILED ===
3319:M 08 Nov 2022 10:39:38.004 # ==> object.c:211 'o->type == OBJ_STRING' is not true

------ STACK TRACE ------

Backtrace:
/root/redis-6.2.6/src/redis-server *:6379(_serverAssert+0x12a)[0x55555575f29a]
/root/redis-6.2.6/src/redis-server *:6379(dupStringObject+0x61)[0x5555556b5b7e]
/root/redis-6.2.6/src/redis-server *:6379(slowlogCreateEntry+0x615)[0x55555578eccb]
/root/redis-6.2.6/src/redis-server *:6379(slowlogPushEntryIfNeeded+0x97)[0x55555578f14b]
/root/redis-6.2.6/src/redis-server *:6379(slowlogPushCurrentCommand+0x17e)[0x55555566eab3]
/root/redis-6.2.6/src/redis-server *:6379(call+0x6b2)[0x55555566f16a]
/root/redis-6.2.6/src/redis-server *:6379(processCommand+0x235f)[0x5555556725f6]
/root/redis-6.2.6/src/redis-server *:6379(processCommandAndResetClient+0x59)[0x5555556a49b2]
/root/redis-6.2.6/src/redis-server *:6379(processInputBuffer+0x634)[0x5555556a50f6]
/root/redis-6.2.6/src/redis-server *:6379(readQueryFromClient+0x841)[0x5555556a5a70]
/root/redis-6.2.6/src/redis-server *:6379(+0x31c42d)[0x55555587042d]
/root/redis-6.2.6/src/redis-server *:6379(+0x31d75a)[0x55555587175a]
/root/redis-6.2.6/src/redis-server *:6379(aeProcessEvents+0x64b)[0x55555565a3b4]
/root/redis-6.2.6/src/redis-server *:6379(aeMain+0x5d)[0x55555565aaa2]
/root/redis-6.2.6/src/redis-server *:6379(main+0xf1a)[0x55555567c2b2]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xea)[0x7fffdee0fd0a]
/root/redis-6.2.6/src/redis-server *:6379(_start+0x2a)[0x55555564d18a]

------ INFO OUTPUT ------
# Server
redis_version:6.2.6
redis_git_sha1:00000000
redis_git_dirty:0
redis_build_id:4b4b4131f1467250
redis_mode:standalone
os:Linux 6.0.0-1-amd64 x86_64
arch_bits:64
multiplexing_api:epoll
atomicvar_api:atomic-builtin
gcc_version:10.2.1
process_id:3319
process_supervised:no
run_id:a35f6ef080b7f38276244ac45dbd2f5dfd86ab53
tcp_port:6379
server_time_usec:1667903977930073
uptime_in_seconds:0
uptime_in_days:0
hz:10
configured_hz:10
lru_clock:6959593
executable:/root/redis-6.2.6/src/redis-server
config_file:/root/redis-6.2.6/redis.conf
io_threads_active:0

# Clients
connected_clients:1
cluster_connections:0
maxclients:10000
client_recent_max_input_buffer:8
client_recent_max_output_buffer:0
blocked_clients:0
tracking_clients:0
clients_in_timeout_table:0

# Memory
used_memory:893984
used_memory_human:873.03K
used_memory_rss:229666816
used_memory_rss_human:219.03M
used_memory_peak:893984
used_memory_peak_human:873.03K
used_memory_peak_perc:105.10%
used_memory_overhead:850216
used_memory_startup:829656
used_memory_dataset:43768
used_memory_dataset_perc:68.04%
allocator_allocated:1304328
allocator_active:1622016
allocator_resident:4456448
total_system_memory:16427008000
total_system_memory_human:15.30G
used_memory_lua:37888
used_memory_lua_human:37.00K
used_memory_scripts:0
used_memory_scripts_human:0B
number_of_cached_scripts:0
maxmemory:0
maxmemory_human:0B
maxmemory_policy:noeviction
allocator_frag_ratio:1.24
allocator_frag_bytes:317688
allocator_rss_ratio:2.75
allocator_rss_bytes:2834432
rss_overhead_ratio:51.54
rss_overhead_bytes:225210368
mem_fragmentation_ratio:270.00
mem_fragmentation_bytes:228816208
mem_not_counted_for_evict:0
mem_replication_backlog:0
mem_clients_slaves:0
mem_clients_normal:20488
mem_aof_buffer:0
mem_allocator:jemalloc-5.1.0
active_defrag_running:0
lazyfree_pending_objects:0
lazyfreed_objects:0

# Persistence
loading:0
current_cow_size:0
current_cow_size_age:0
current_fork_perc:0.00
current_save_keys_processed:0
current_save_keys_total:0
rdb_changes_since_last_save:1
rdb_bgsave_in_progress:0
rdb_last_save_time:1667903977
rdb_last_bgsave_status:ok
rdb_last_bgsave_time_sec:-1
rdb_current_bgsave_time_sec:-1
rdb_last_cow_size:0
aof_enabled:0
aof_rewrite_in_progress:0
aof_rewrite_scheduled:0
aof_last_rewrite_time_sec:-1
aof_current_rewrite_time_sec:-1
aof_last_bgrewrite_status:ok
aof_last_write_status:ok
aof_last_cow_size:0
module_fork_in_progress:0
module_fork_last_cow_size:0

# Stats
total_connections_received:1
total_commands_processed:0
instantaneous_ops_per_sec:0
total_net_input_bytes:40
total_net_output_bytes:0
instantaneous_input_kbps:0.00
instantaneous_output_kbps:0.00
rejected_connections:0
sync_full:0
sync_partial_ok:0
sync_partial_err:0
expired_keys:0
expired_stale_perc:0.00
expired_time_cap_reached_count:0
expire_cycle_cpu_milliseconds:1
evicted_keys:0
keyspace_hits:0
keyspace_misses:0
pubsub_channels:0
pubsub_patterns:0
latest_fork_usec:0
total_forks:0
migrate_cached_sockets:0
slave_expires_tracked_keys:0
active_defrag_hits:0
active_defrag_misses:0
active_defrag_key_hits:0
active_defrag_key_misses:0
tracking_total_keys:0
tracking_total_items:0
tracking_total_prefixes:0
unexpected_error_replies:0
total_error_replies:0
dump_payload_sanitizations:0
total_reads_processed:1
total_writes_processed:0
io_threaded_reads_processed:0
io_threaded_writes_processed:0

# Replication
role:master
connected_slaves:0
master_failover_state:no-failover
master_replid:562e6688d297388dadbc33ec379722294c8a21f7
master_replid2:0000000000000000000000000000000000000000
master_repl_offset:0
second_repl_offset:-1
repl_backlog_active:0
repl_backlog_size:1048576
repl_backlog_first_byte_offset:0
repl_backlog_histlen:0

# CPU
used_cpu_sys:0.585107
used_cpu_user:2.071922
used_cpu_sys_children:0.008400
used_cpu_user_children:0.003425
used_cpu_sys_main_thread:0.571175
used_cpu_user_main_thread:2.045049

# Modules
module:name=bf,ver=20218,api=1,filters=0,usedby=[],using=[],options=[]

# Commandstats

# Errorstats

# Cluster
cluster_enabled:0

# Keyspace
db0:keys=1,expires=0,avg_ttl=0

------ CLIENT LIST OUTPUT ------
id=3 addr=127.0.0.1:46740 laddr=127.0.0.1:6379 fd=15 name= age=1 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=40 qbuf-free=40914 argv-mem=18 obl=4 oll=0 omem=0 tot-mem=61482 events=r cmd=bf.add user=default redir=-1

------ CURRENT CLIENT INFO ------
id=3 addr=127.0.0.1:46740 laddr=127.0.0.1:6379 fd=15 name= age=1 idle=0 flags=N db=0 sub=0 psub=0 multi=-1 qbuf=40 qbuf-free=40914 argv-mem=18 obl=4 oll=0 omem=0 tot-mem=61482 events=r cmd=bf.add user=default redir=-1
argv[0]: ''
argv[1]: 'newFilter'
argv[2]: 'foo'
3319:M 08 Nov 2022 10:39:38.138 # key 'newFilter' found in DB containing the following object:
3319:M 08 Nov 2022 10:39:38.138 # Object type: 5
3319:M 08 Nov 2022 10:39:38.139 # Object encoding: 0
3319:M 08 Nov 2022 10:39:38.139 # Object refcount: 1

------ MODULES INFO OUTPUT ------

------ FAST MEMORY TEST ------
3319:M 08 Nov 2022 10:39:38.172 # Bio thread for job type #0 terminated
3319:M 08 Nov 2022 10:39:38.174 # Bio thread for job type #1 terminated
3319:M 08 Nov 2022 10:39:38.174 # Bio thread for job type #2 terminated
*** Preparing to test memory region 7fff7000 (268435456 bytes)
*** Preparing to test memory region 2008fff7000 (15392894357504 bytes)
*** Preparing to test memory region 555556149000 (2289664 bytes)
*** Preparing to test memory region 602000000000 (65536 bytes)
*** Preparing to test memory region 602e00000000 (65536 bytes)
*** Preparing to test memory region 603000000000 (65536 bytes)
*** Preparing to test memory region 603e00000000 (65536 bytes)
*** Preparing to test memory region 604000000000 (65536 bytes)
*** Preparing to test memory region 604e00000000 (65536 bytes)
*** Preparing to test memory region 606000000000 (65536 bytes)
*** Preparing to test memory region 606e00000000 (65536 bytes)
*** Preparing to test memory region 607000000000 (65536 bytes)
*** Preparing to test memory region 607e00000000 (65536 bytes)
*** Preparing to test memory region 608000000000 (65536 bytes)
*** Preparing to test memory region 608e00000000 (65536 bytes)
*** Preparing to test memory region 60b000000000 (65536 bytes)
*** Preparing to test memory region 60be00000000 (65536 bytes)
*** Preparing to test memory region 60c000000000 (65536 bytes)
*** Preparing to test memory region 60ce00000000 (65536 bytes)
*** Preparing to test memory region 60d000000000 (65536 bytes)
*** Preparing to test memory region 60de00000000 (65536 bytes)
*** Preparing to test memory region 60e000000000 (65536 bytes)
*** Preparing to test memory region 60ee00000000 (65536 bytes)
*** Preparing to test memory region 60f000000000 (65536 bytes)
*** Preparing to test memory region 60fe00000000 (65536 bytes)
*** Preparing to test memory region 611000000000 (65536 bytes)
*** Preparing to test memory region 611e00000000 (65536 bytes)
*** Preparing to test memory region 612000000000 (65536 bytes)
*** Preparing to test memory region 612e00000000 (65536 bytes)
*** Preparing to test memory region 615000000000 (65536 bytes)
*** Preparing to test memory region 615e00000000 (65536 bytes)
*** Preparing to test memory region 616000000000 (65536 bytes)
*** Preparing to test memory region 616e00000000 (65536 bytes)
*** Preparing to test memory region 617000000000 (65536 bytes)
*** Preparing to test memory region 617e00000000 (65536 bytes)
*** Preparing to test memory region 619000000000 (65536 bytes)
*** Preparing to test memory region 619e00000000 (65536 bytes)
*** Preparing to test memory region 61a000000000 (65536 bytes)
*** Preparing to test memory region 61ae00000000 (65536 bytes)
*** Preparing to test memory region 61d000000000 (65536 bytes)
*** Preparing to test memory region 61de00000000 (65536 bytes)
*** Preparing to test memory region 61e000000000 (65536 bytes)
*** Preparing to test memory region 61ee00000000 (65536 bytes)
*** Preparing to test memory region 621000000000 (65536 bytes)
*** Preparing to test memory region 621e00000000 (65536 bytes)
*** Preparing to test memory region 624000000000 (327680 bytes)
*** Preparing to test memory region 624e00000000 (65536 bytes)
*** Preparing to test memory region 640000000000 (12288 bytes)
*** Preparing to test memory region 7fffcd819000 (409600 bytes)
*** Preparing to test memory region 7fffcd882000 (4096 bytes)
*** Preparing to test memory region 7fffcd889000 (4096 bytes)
*** Preparing to test memory region 7fffcd88d000 (30339072 bytes)
*** Preparing to test memory region 7fffcf57c000 (8192 bytes)
*** Preparing to test memory region 7fffcf57f000 (14229504 bytes)
*** Preparing to test memory region 7fffd031f000 (147456 bytes)
*** Preparing to test memory region 7fffd034b000 (552960 bytes)
*** Preparing to test memory region 7fffd04de000 (8409088 bytes)
*** Preparing to test memory region 7fffd0ce3000 (8192 bytes)
*** Preparing to test memory region 7fffd0ce5000 (270336 bytes)
*** Preparing to test memory region 7fffd0d28000 (8388608 bytes)
*** Preparing to test memory region 7fffd1530000 (1167360 bytes)
*** Preparing to test memory region 7fffd1725000 (8679424 bytes)
*** Preparing to test memory region 7fffd1f6c000 (8192 bytes)
*** Preparing to test memory region 7fffd1f6e000 (954368 bytes)
*** Preparing to test memory region 7fffd2057000 (20480 bytes)
*** Preparing to test memory region 7fffd205d000 (9469952 bytes)
*** Preparing to test memory region 7fffd2971000 (8192 bytes)
*** Preparing to test memory region 7fffd2981000 (679936 bytes)
*** Preparing to test memory region 7fffd2a2e000 (16384 bytes)
*** Preparing to test memory region 7fffd2a33000 (8720384 bytes)
*** Preparing to test memory region 7fffd3284000 (8192 bytes)
*** Preparing to test memory region 7fffd3286000 (200704 bytes)
*** Preparing to test memory region 7fffd32b7000 (81920 bytes)
*** Preparing to test memory region 7fffd32cc000 (12189696 bytes)
*** Preparing to test memory region 7fffd3e6c000 (1486848 bytes)
*** Preparing to test memory region 7fffd3ffa000 (79716352 bytes)
*** Preparing to test memory region 7fffd8c00000 (4194304 bytes)
*** Preparing to test memory region 7fffd9000000 (3055616 bytes)
*** Preparing to test memory region 7fffd92ea000 (2097152 bytes)
*** Preparing to test memory region 7fffd94ea000 (5332992 bytes)
*** Preparing to test memory region 7fffd9a00000 (2097152 bytes)
*** Preparing to test memory region 7fffd9c00000 (2359296 bytes)
*** Preparing to test memory region 7fffd9e40000 (41656320 bytes)
*** Preparing to test memory region 7fffdcdfa000 (10821632 bytes)
*** Preparing to test memory region 7fffdd84c000 (389120 bytes)
*** Preparing to test memory region 7fffdd8ab000 (10301440 bytes)
*** Preparing to test memory region 7fffde27e000 (5083136 bytes)
*** Preparing to test memory region 7fffde757000 (3379200 bytes)
*** Preparing to test memory region 7fffdea90000 (552960 bytes)
*** Preparing to test memory region 7fffdeb17000 (311296 bytes)
*** Preparing to test memory region 7fffdeb63000 (262144 bytes)
*** Preparing to test memory region 7fffdeba3000 (176128 bytes)
*** Preparing to test memory region 7fffdebce000 (2220032 bytes)
*** Preparing to test memory region 7fffdefbd000 (16384 bytes)
*** Preparing to test memory region 7fffdf227000 (9068544 bytes)
*** Preparing to test memory region 7fffe0c1f000 (749568 bytes)
*** Preparing to test memory region 7fffe0cd6000 (286720 bytes)
*** Preparing to test memory region 7fffe0d36000 (106496 bytes)
*** Preparing to test memory region 7fffe0d50000 (28672 bytes)
*** Preparing to test memory region 7fffe0d57000 (36864 bytes)
*** Preparing to test memory region 7fffe0d60000 (8192 bytes)
*** Preparing to test memory region 7fffe0d80000 (28672 bytes)
*** Preparing to test memory region 7fffe0d87000 (28672 bytes)
*** Preparing to test memory region 7fffe0d8e000 (12288 bytes)
*** Preparing to test memory region 7fffe0d91000 (32768 bytes)
*** Preparing to test memory region 7fffe0d9f000 (3538944 bytes)
*** Preparing to test memory region 7fffe10ff000 (12288 bytes)
*** Preparing to test memory region 7fffe1102000 (3395584 bytes)
*** Preparing to test memory region 7fffe143f000 (290816 bytes)
*** Preparing to test memory region 7fffe1486000 (20889600 bytes)
*** Preparing to test memory region 7fffe39c4000 (1126400 bytes)
*** Preparing to test memory region 7fffe3c17000 (4980736 bytes)
*** Preparing to test memory region 7ffff3ad7000 (16850944 bytes)
*** Preparing to test memory region 7ffff4ae9000 (8192 bytes)
*** Preparing to test memory region 7ffff4aeb000 (15302656 bytes)
*** Preparing to test memory region 7ffff5c67000 (12288 bytes)
*** Preparing to test memory region 7ffff5e89000 (155648 bytes)
*** Preparing to test memory region 7ffff5eb0000 (98304 bytes)
*** Preparing to test memory region 7ffff6164000 (167936 bytes)
*** Preparing to test memory region 7ffff6668000 (4096 bytes)
*** Preparing to test memory region 7ffff6ff4000 (20480 bytes)
*** Preparing to test memory region 7ffff6ffa000 (102400 bytes)
*** Preparing to test memory region 7ffff7014000 (98304 bytes)
*** Preparing to test memory region 7ffff702d000 (258048 bytes)
*** Preparing to test memory region 7ffff72a6000 (16384 bytes)
*** Preparing to test memory region 7ffff7a8e000 (839680 bytes)
*** Preparing to test memory region 7ffff7b5c000 (12288 bytes)
*** Preparing to test memory region 7ffff7b61000 (12288 bytes)
=================================================================
==3319==ERROR: AddressSanitizer: stack-buffer-overflow on address 0x7fffffffdde0 at pc 0x55555576146c bp 0x7fffffffd060 sp 0x7fffffffd058
WRITE of size 8 at 0x7fffffffdde0 thread T0
    #0 0x55555576146b in memtest_test_linux_anonymous_maps /root/redis-6.2.6/src/debug.c:1682
    #1 0x555555761924 in doFastMemoryTest /root/redis-6.2.6/src/debug.c:1736
    #2 0x5555557623eb in printCrashReport /root/redis-6.2.6/src/debug.c:1852
    #3 0x55555575f29e in _serverAssert /root/redis-6.2.6/src/debug.c:907
    #4 0x5555556b5b7d in dupStringObject /root/redis-6.2.6/src/object.c:211
    #5 0x55555578ecca in slowlogCreateEntry /root/redis-6.2.6/src/slowlog.c:84
    #6 0x55555578f14a in slowlogPushEntryIfNeeded /root/redis-6.2.6/src/slowlog.c:127
    #7 0x55555566eab2 in slowlogPushCurrentCommand /root/redis-6.2.6/src/server.c:3657
    #8 0x55555566f169 in call /root/redis-6.2.6/src/server.c:3773
    #9 0x5555556725f5 in processCommand /root/redis-6.2.6/src/server.c:4241
    #10 0x5555556a49b1 in processCommandAndResetClient /root/redis-6.2.6/src/networking.c:2039
    #11 0x5555556a50f5 in processInputBuffer /root/redis-6.2.6/src/networking.c:2140
    #12 0x5555556a5a6f in readQueryFromClient /root/redis-6.2.6/src/networking.c:2226
    #13 0x55555587042c in callHandler /root/redis-6.2.6/src/connhelpers.h:79
    #14 0x555555871759 in connSocketEventHandler /root/redis-6.2.6/src/connection.c:295
    #15 0x55555565a3b3 in aeProcessEvents /root/redis-6.2.6/src/ae.c:427
    #16 0x55555565aaa1 in aeMain /root/redis-6.2.6/src/ae.c:487
    #17 0x55555567c2b1 in main /root/redis-6.2.6/src/server.c:6401
    #18 0x7fffdee0fd09 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x23d09)
    #19 0x55555564d189 in _start (/root/redis-6.2.6/src/redis-server+0xf9189)

Address 0x7fffffffdde0 is located in stack of thread T0 at offset 3360 in frame
    #0 0x5555557610d9 in memtest_test_linux_anonymous_maps /root/redis-6.2.6/src/debug.c:1647

  This frame has 4 object(s):
    [32, 1056) 'line' (line 1649)
    [1184, 2208) 'logbuf' (line 1650)
    [2336, 3360) 'start_vect' (line 1652) <== Memory access at offset 3360 overflows this variable
    [3488, 4512) 'size_vect' (line 1653)
HINT: this may be a false positive if your program uses some custom stack unwind mechanism, swapcontext or vfork
      (longjmp and C++ exceptions *are* supported)
SUMMARY: AddressSanitizer: stack-buffer-overflow /root/redis-6.2.6/src/debug.c:1682 in memtest_test_linux_anonymous_maps
Shadow bytes around the buggy address:
  0x10007fff7b60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10007fff7b70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10007fff7b80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10007fff7b90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10007fff7ba0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=>0x10007fff7bb0: 00 00 00 00 00 00 00 00 00 00 00 00[f2]f2 f2 f2
  0x10007fff7bc0: f2 f2 f2 f2 f2 f2 f2 f2 f2 f2 f2 f2 00 00 00 00
  0x10007fff7bd0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10007fff7be0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10007fff7bf0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x10007fff7c00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==3319==ABORTING
